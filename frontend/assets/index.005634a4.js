var e=Object.defineProperty,t=Object.defineProperties,o=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,n=(t,o,s)=>o in t?e(t,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[o]=s,r=(e,t)=>{for(var o in t||(t={}))a.call(t,o)&&n(e,o,t[o]);if(s)for(var o of s(t))l.call(t,o)&&n(e,o,t[o]);return e},i=(e,s)=>t(e,o(s));import{b as c,a as u,_ as p,ar as d,p as f,S as g,ad as w,aC as h,ac as y,h as v,ag as b,av as C,w as m}from"./index.2956b203.js";import{A as k,k as D,a0 as x,B,D as $,aa as O,a6 as P,a1 as S,a5 as T,ad as _,J as j,a4 as F,ac as H,K as L,X as V,bZ as A,H as E,w as I,bm as N,r as M,u as J,t as K,S as R,$ as U,aj as X,bl as Z,aC as q,F as z,ao as G,aB as Q,aU as W,P as Y,b9 as ee,am as te,af as oe}from"./vendor.84d2d683.js";/* empty css               */const{t:se}=c(),ae={confirmLoading:{type:Boolean},showCancelBtn:{type:Boolean,default:!0},cancelButtonProps:Object,cancelText:{type:String,default:se("common.cancelText")},showOkBtn:{type:Boolean,default:!0},okButtonProps:Object,okText:{type:String,default:se("common.okText")},okType:{type:String,default:"primary"},showFooter:{type:Boolean},footerHeight:{type:[String,Number],default:60}},le=r({isDetail:{type:Boolean},title:{type:String,default:""},loadingText:{type:String},showDetailBack:{type:Boolean,default:!0},visible:{type:Boolean},loading:{type:Boolean},maskClosable:{type:Boolean,default:!0},getContainer:{type:[Object,String]},closeFunc:{type:[Function,Object],default:null},destroyOnClose:{type:Boolean}},ae);var ne=p(k({name:"BasicDrawerFooter",props:i(r({},ae),{height:{type:String,default:"60px"}}),emits:["ok","close"],setup(e,{emit:t}){const{prefixCls:o}=u("basic-drawer-footer");return{handleOk:function(){t("ok")},prefixCls:o,handleClose:function(){t("close")},getStyle:D((()=>{const t=`${e.height}`;return{height:t,lineHeight:t}}))}}}),[["render",function(e,t,o,s,a,l){const n=x("a-button");return e.showFooter||e.$slots.footer?(B(),$("div",{key:0,class:L(e.prefixCls),style:V(e.getStyle)},[e.$slots.footer?P(e.$slots,"footer",{key:1}):(B(),$(O,{key:0},[P(e.$slots,"insertFooter"),e.showCancelBtn?(B(),S(n,F({key:0},e.cancelButtonProps,{onClick:e.handleClose,class:"mr-2"}),{default:T((()=>[_(j(e.cancelText),1)])),_:1},16,["onClick"])):H("",!0),P(e.$slots,"centerFooter"),e.showOkBtn?(B(),S(n,F({key:1,type:e.okType,onClick:e.handleOk},e.okButtonProps,{class:"mr-2",loading:e.confirmLoading}),{default:T((()=>[_(j(e.okText),1)])),_:1},16,["type","onClick","loading"])):H("",!0),P(e.$slots,"appendFooter")],64))],6)):H("",!0)}]]);const re=k({name:"BasicDrawerHeader",components:{BasicTitle:d,ArrowLeftOutlined:A},props:{isDetail:f.bool,showDetailBack:f.bool,title:f.string},emits:["close"],setup(e,{emit:t}){const{prefixCls:o}=u("basic-drawer-header");return{prefixCls:o,handleClose:function(){t("close")}}}}),ie={key:1};var ce=p(k({components:{Drawer:N,ScrollContainer:g,DrawerFooter:ne,DrawerHeader:p(re,[["render",function(e,t,o,s,a,l){const n=x("BasicTitle"),r=x("ArrowLeftOutlined");return e.isDetail?(B(),$("div",{key:1,class:L([e.prefixCls,`${e.prefixCls}--detail`])},[E("span",{class:L(`${e.prefixCls}__twrap`)},[e.showDetailBack?(B(),$("span",{key:0,onClick:t[0]||(t[0]=(...t)=>e.handleClose&&e.handleClose(...t))},[I(r,{class:L(`${e.prefixCls}__back`)},null,8,["class"])])):H("",!0),e.title?(B(),$("span",ie,j(e.title),1)):H("",!0)],2),E("span",{class:L(`${e.prefixCls}__toolbar`)},[P(e.$slots,"titleToolbar")],2)],2)):(B(),S(n,{key:0,class:L(e.prefixCls)},{default:T((()=>[P(e.$slots,"title"),_(" "+j(e.$slots.title?"":e.title),1)])),_:3},8,["class"]))}]])},inheritAttrs:!1,props:le,emits:["visible-change","ok","close","register"],setup(e,{emit:t}){const o=M(!1),s=w(),a=M(null),{t:l}=c(),{prefixVar:n,prefixCls:p}=u("basic-drawer"),d={setDrawerProps:function(e){a.value=h(J(a)||{},e),Reflect.has(e,"visible")&&(o.value=!!e.visible)},emitVisible:void 0},f=X();f&&t("register",d,f.uid);const g=D((()=>h(K(e),J(a)))),b=D((()=>{const e=i(r(r({placement:"right"},J(s)),J(g)),{visible:J(o)});e.title=void 0;const{isDetail:t,width:a,wrapClassName:l,getContainer:c}=e;if(t){a||(e.width="100%");const t=`${p}__detail`;e.wrapClassName=l?`${l} ${t}`:t,c||(e.getContainer=`.${n}-layout-content`)}return e})),C=D((()=>r(r({},s),J(b)))),m=D((()=>{const{footerHeight:e,showFooter:t}=J(b);return t&&e?y(e)?`${e}px`:`${e.replace("px","")}px`:"0px"})),k=D((()=>({position:"relative",height:`calc(100% - ${J(m)})`}))),x=D((()=>{var e;return!!(null==(e=J(b))?void 0:e.loading)}));return R((()=>e.visible),((e,t)=>{e!==t&&(o.value=e)}),{deep:!0}),R((()=>o.value),(e=>{U((()=>{var o;t("visible-change",e),f&&(null==(o=d.emitVisible)||o.call(d,e,f.uid))}))})),{onClose:function(e){return s=this,a=null,l=function*(){const{closeFunc:s}=J(b);if(t("close",e),s&&v(s)){const e=yield s();o.value=!e}else o.value=!1},new Promise(((t,o)=>{var n=t=>{try{i(l.next(t))}catch(e){o(e)}},r=t=>{try{i(l.throw(t))}catch(e){o(e)}},i=e=>e.done?t(e.value):Promise.resolve(e.value).then(n,r);i((l=l.apply(s,a)).next())}));var s,a,l},t:l,prefixCls:p,getMergeProps:g,getScrollContentStyle:k,getProps:b,getLoading:x,getBindValues:C,getFooterHeight:m,handleOk:function(){t("ok")}}}}),[["render",function(e,t,o,s,a,l){const n=x("DrawerHeader"),r=x("ScrollContainer"),i=x("DrawerFooter"),c=x("Drawer"),u=Z("loading");return B(),S(c,F({class:e.prefixCls,onClose:e.onClose},e.getBindValues),q({default:T((()=>[z(I(r,{style:V(e.getScrollContentStyle),"loading-tip":e.loadingText||e.t("common.loadingText")},{default:T((()=>[P(e.$slots,"default")])),_:3},8,["style","loading-tip"]),[[u,e.getLoading]]),I(i,F(e.getProps,{onClose:e.onClose,onOk:e.handleOk,height:e.getFooterHeight}),q({_:2},[G(Object.keys(e.$slots),(t=>({name:t,fn:T((o=>[P(e.$slots,t,Q(W(o||{})))]))})))]),1040,["onClose","onOk","height"])])),_:2},[e.$slots.title?{name:"title",fn:T((()=>[P(e.$slots,"title")]))}:{name:"title",fn:T((()=>[I(n,{title:e.getMergeProps.title,isDetail:e.isDetail,showDetailBack:e.showDetailBack,onClose:e.onClose},{titleToolbar:T((()=>[P(e.$slots,"titleToolbar")])),_:3},8,["title","isDetail","showDetailBack","onClose"])]))}]),1040,["class","onClose"])}]]);const ue=Y({}),pe=Y({});function de(){if(!X())throw new Error("useDrawer() can only be used inside setup() or functional components!");const e=M(null),t=M(!1),o=M("");const s=()=>{const t=J(e);return t||C("useDrawer instance is undefined!"),t};return[function(s,a){oe((()=>{e.value=null,t.value=null,ue[J(o)]=null})),J(t)&&b()&&s===J(e)||(o.value=a,e.value=s,t.value=!0,s.emitVisible=(e,t)=>{pe[t]=e})},{setDrawerProps:e=>{var t;null==(t=s())||t.setDrawerProps(e)},getVisible:D((()=>pe[~~J(o)])),openDrawer:(e=!0,t,a=!0)=>{var l;if(null==(l=s())||l.setDrawerProps({visible:e}),!t)return;if(a)return ue[J(o)]=null,void(ue[J(o)]=K(t));ee(K(ue[J(o)]),K(t))||(ue[J(o)]=K(t))},closeDrawer:()=>{var e;null==(e=s())||e.setDrawerProps({visible:!1})}}]}const fe=e=>{const t=M(null),o=X(),s=M("");if(!X())throw new Error("useDrawerInner() can only be used inside setup() or functional components!");const a=()=>{const e=J(t);if(e)return e;C("useDrawerInner instance is undefined!")};return te((()=>{const t=ue[J(s)];t&&e&&v(e)&&U((()=>{e(t)}))})),[(e,a)=>{oe((()=>{t.value=null})),s.value=a,t.value=e,null==o||o.emit("register",e,a)},{changeLoading:(e=!0)=>{var t;null==(t=a())||t.setDrawerProps({loading:e})},changeOkLoading:(e=!0)=>{var t;null==(t=a())||t.setDrawerProps({confirmLoading:e})},getVisible:D((()=>pe[~~J(s)])),closeDrawer:()=>{var e;null==(e=a())||e.setDrawerProps({visible:!1})},setDrawerProps:e=>{var t;null==(t=a())||t.setDrawerProps(e)}}]},ge=m(ce);export{ge as B,fe as a,de as u};
