var r;import{A as e,r as o,S as t,$ as s,c as i,a0 as a,B as n,D as m,aa as l,ao as d,F as p,G as u,w as c,u as j,a5 as f,ad as x,J as b}from"./vendor.84d2d683.js";import g from"./DetailModal.691b61ae.js";import{u as y,B as v}from"./useTable.5d27771c.js";import{T as h}from"./FormAction.9732afc1.js";import{b as w}from"./index.a66a0969.js";import{aD as D,b as E,aJ as L}from"./index.2956b203.js";import{getColumns as C}from"./data.1e187cb0.js";import"./index.e52a9253.js";/* empty css               */import"./useDescription.b4f52eab.js";/* empty css              */import"./useForm.07071468.js";import"./useFormItem.75e32247.js";/* empty css               */import"./index.7a603658.js";/* empty css               *//* empty css               */import"./useWindowSizeFn.a02e5cb7.js";import"./useContentViewHeight.fee9e617.js";/* empty css                *//* empty css                *//* empty css               *//* empty css               */import"./useSortable.817b3359.js";/* empty css                *//* empty css                *//* empty css                */import"./download.eecfd47d.js";import"./index.8bcb94a9.js";import"./index.1350911d.js";(r||(r={})).Error="/error";const R={class:"p-4"},k=["src"],A=e({setup(e){const A=o(),F=o([]),{t:T}=E(),_=L(),[I,{setTableData:S}]=y({title:T("sys.errorLog.tableTitle"),columns:C(),actionColumn:{width:80,title:"Action",dataIndex:"action",slots:{customRender:"action"}}}),[B,{openModal:J}]=w();function M(r){A.value=r,J(!0)}function P(){throw new Error("fire vue error!")}function V(){F.value.push(`${(new Date).getTime()}.png`)}function $(){return e=this,o=null,t=function*(){yield D.get({url:r.Error})},new Promise(((r,s)=>{var i=r=>{try{n(t.next(r))}catch(e){s(e)}},a=r=>{try{n(t.throw(r))}catch(e){s(e)}},n=e=>e.done?r(e.value):Promise.resolve(e.value).then(i,a);n((t=t.apply(e,o)).next())}));var e,o,t}return t((()=>_.getErrorLogInfoList),(r=>{s((()=>{S(i(r))}))}),{immediate:!0}),(r,e)=>{const o=a("a-button");return n(),m("div",R,[(n(!0),m(l,null,d(F.value,(r=>p((n(),m("img",{key:r,src:r},null,8,k)),[[u,!1]]))),128)),c(g,{info:A.value,onRegister:j(B)},null,8,["info","onRegister"]),c(j(v),{onRegister:j(I),class:"error-handle-table"},{toolbar:f((()=>[c(o,{onClick:P,type:"primary"},{default:f((()=>[x(b(j(T)("sys.errorLog.fireVueError")),1)])),_:1}),c(o,{onClick:V,type:"primary"},{default:f((()=>[x(b(j(T)("sys.errorLog.fireResourceError")),1)])),_:1}),c(o,{onClick:$,type:"primary"},{default:f((()=>[x(b(j(T)("sys.errorLog.fireAjaxError")),1)])),_:1})])),action:f((({record:r})=>[c(j(h),{actions:[{label:j(T)("sys.errorLog.tableActionDesc"),onClick:M.bind(null,r)}]},null,8,["actions"])])),_:1},8,["onRegister"])])}}});export{A as default};
