!function(){function e(e,n,t,r,i,a,o){try{var c=e[a](o),u=c.value}catch(s){return void t(s)}c.done?n(u):Promise.resolve(u).then(r,i)}function n(n){return function(){var t=this,r=arguments;return new Promise((function(i,a){var o=n.apply(t,r);function c(n){e(o,i,a,c,u,"next",n)}function u(n){e(o,i,a,c,u,"throw",n)}c(void 0)}))}}function t(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var r,i,a=[],o=!0,c=!1;try{for(t=t.call(e);!(o=(r=t.next()).done)&&(a.push(r.value),!n||a.length!==n);o=!0);}catch(u){c=!0,i=u}finally{try{o||null==t.return||t.return()}finally{if(c)throw i}}return a}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return r(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return r(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}System.register(["./useTable-legacy.fbc5fe88.js","./FormAction-legacy.aae69255.js","./menu-legacy.8ce2cd17.js","./index-legacy.9c141e8a.js","./MenuDrawer-legacy.69368b6c.js","./index-legacy.5f587d09.js","./menu.data-legacy.539a446a.js","./MenuDetail-legacy.38ae0aba.js","./vendor-legacy.d8193a32.js","./index-legacy.f25f109a.js","./useForm-legacy.157dc112.js","./useFormItem-legacy.04db47e9.js","./index-legacy.f25f109a2.js","./index-legacy.c6aa8123.js","./useWindowSizeFn-legacy.d4ab4bc0.js","./index-legacy.02d6902c.js","./index-legacy.f25f109a7.js","./index-legacy.f25f109a8.js","./useContentViewHeight-legacy.0007ffb7.js","./index-legacy.f25f109a12.js","./index-legacy.f25f109a13.js","./index-legacy.f25f109a6.js","./index-legacy.f25f109a3.js","./useSortable-legacy.46962df8.js","./index-legacy.f25f109a10.js","./index-legacy.f25f109a11.js","./index-legacy.f25f109a14.js","./download-legacy.cf27d1d1.js","./index-legacy.ac6cddf2.js","./index-legacy.63558327.js","./index-legacy.f25f109a4.js","./index-legacy.e1a865fb.js","./index-legacy.f25f109a9.js"],(function(e){"use strict";var r,i,a,o,c,u,s,l,f,d,g,y,h,m,p,j,b,w,x,v,D,S;return{setters:[function(e){r=e.B,i=e.u},function(e){a=e.T},function(e){o=e.g,c=e.d},function(e){u=e.u},function(e){s=e.default},function(e){l=e._,f=e.ah,d=e.ai},function(e){g=e.c,y=e.s},function(e){h=e.default},function(e){m=e.A,p=e.a0,j=e.B,b=e.D,w=e.w,x=e.a5,v=e.a1,D=e.ac,S=e.ad},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){}],execute:function(){var R=m({name:"MenuManagement",components:{MenuDetailDrawer:h,AButton:f,BasicTable:r,MenuDrawer:s,TableAction:a},setup:function(){var e=d().hasPermission,r=t(u(),2),a=r[0],s=r[1].openDrawer,l=t(u(),2),f=l[0],h=l[1].openDrawer,m=t(i({title:"菜单列表",api:o,columns:g,formConfig:{labelWidth:120,schemas:y},isTreeTable:!0,pagination:!1,striped:!1,useSearchForm:!0,showTableSetting:!0,bordered:!0,showIndexColumn:!1,canResize:!1,actionColumn:{width:80,title:"操作",dataIndex:"action",slots:{customRender:"action"},fixed:void 0}}),2),p=m[0],j=m[1],b=j.reload,w=j.setLoading;function x(){return(x=n(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c([n.id]);case 2:return e.next=4,b();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){return(v=n(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(!0,{record:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return{hasPermission:e,registerTable:p,registerDrawer:a,handleRefresh:function(){w(!0),setTimeout((function(){w(!1)}),1e3)},handleCreate:function(){s(!0,{isUpdate:!1})},handleEdit:function(e){s(!0,{record:e,isUpdate:!0})},handleDelete:function(e){return x.apply(this,arguments)},handleDetail:function(e){return v.apply(this,arguments)},handleSuccess:function(){b()},onFetchSuccess:function(){},registerDetailDrawer:f}}}),T=S(" 新增菜单");e("default",l(R,[["render",function(e,n,t,r,i,a){var o=p("a-button"),c=p("TableAction"),u=p("BasicTable"),s=p("MenuDetailDrawer"),l=p("MenuDrawer");return j(),b("div",null,[w(u,{onRegister:e.registerTable,onFetchSuccess:e.onFetchSuccess},{toolbar:x((function(){return[e.hasPermission("menu_create")?(j(),v(o,{key:0,type:"primary",onClick:e.handleCreate},{default:x((function(){return[T]})),_:1},8,["onClick"])):D("",!0)]})),action:x((function(n){var t=n.record;return[w(c,{actions:[{tooltip:"详情",ifShow:e.hasPermission("menu_retrieve"),icon:"ant-design:eye-outlined",onClick:e.handleDetail.bind(null,t)},{tooltip:"编辑",ifShow:e.hasPermission("menu_update"),icon:"clarity:note-edit-line",onClick:e.handleEdit.bind(null,t)},{tooltip:"删除",ifShow:e.hasPermission("menu_delete"),icon:"ant-design:delete-outlined",color:"error",popConfirm:{title:"是否确认删除",confirm:e.handleDelete.bind(null,t)}}]},null,8,["actions"])]})),_:1},8,["onRegister","onFetchSuccess"]),w(s,{onRegister:e.registerDetailDrawer},null,8,["onRegister"]),w(l,{onRegister:e.registerDrawer,onSuccess:e.handleSuccess},null,8,["onRegister","onSuccess"])])}]]))}}}))}();
