!function(){function e(e,n,t,r,i,a,o){try{var c=e[a](o),u=c.value}catch(l){return void t(l)}c.done?n(u):Promise.resolve(u).then(r,i)}function n(n){return function(){var t=this,r=arguments;return new Promise((function(i,a){var o=n.apply(t,r);function c(n){e(o,i,a,c,u,"next",n)}function u(n){e(o,i,a,c,u,"throw",n)}c(void 0)}))}}function t(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var r,i,a=[],o=!0,c=!1;try{for(t=t.call(e);!(o=(r=t.next()).done)&&(a.push(r.value),!n||a.length!==n);o=!0);}catch(u){c=!0,i=u}finally{try{o||null==t.return||t.return()}finally{if(c)throw i}}return a}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return r(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return r(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}System.register(["./useTable-legacy.fbc5fe88.js","./FormAction-legacy.aae69255.js","./role-legacy.0e58e65a.js","./index-legacy.9c141e8a.js","./RoleDrawer-legacy.69fbc837.js","./index-legacy.5f587d09.js","./vendor-legacy.d8193a32.js","./index-legacy.f25f109a.js","./useForm-legacy.157dc112.js","./useFormItem-legacy.04db47e9.js","./index-legacy.f25f109a2.js","./index-legacy.c6aa8123.js","./useWindowSizeFn-legacy.d4ab4bc0.js","./index-legacy.02d6902c.js","./index-legacy.f25f109a7.js","./index-legacy.f25f109a8.js","./useContentViewHeight-legacy.0007ffb7.js","./index-legacy.f25f109a12.js","./index-legacy.f25f109a13.js","./index-legacy.f25f109a6.js","./index-legacy.f25f109a3.js","./useSortable-legacy.46962df8.js","./index-legacy.f25f109a10.js","./index-legacy.f25f109a11.js","./index-legacy.f25f109a14.js","./download-legacy.cf27d1d1.js","./index-legacy.ac6cddf2.js","./index-legacy.63558327.js","./index-legacy.f25f109a4.js","./menu-legacy.8ce2cd17.js"],(function(e){"use strict";var r,i,a,o,c,u,l,s,f,d,g,y,m,h,j,b,p,x,v,w;return{setters:[function(e){r=e.B,i=e.u},function(e){a=e.T},function(e){o=e.a,c=e.d},function(e){u=e.u},function(e){l=e.R,s=e.c,f=e.s},function(e){d=e._,g=e.ai,y=e.f},function(e){m=e.A,h=e.a0,j=e.B,b=e.D,p=e.w,x=e.aC,v=e.a5,w=e.ad},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){}],execute:function(){var S=m({name:"RoleManagement",components:{BasicTable:r,RoleDrawer:l,TableAction:a},setup:function(){var e=y().createMessage,r=g().hasPermission,a=t(u(),2),l=a[0],d=a[1].openDrawer,m=t(i({title:"角色列表",api:o,columns:s,formConfig:{labelWidth:120,schemas:f,fieldMapToTime:[["createTime",["createTimeStart","createTimeEnd"],"YYYY-MM-DD HH:mm:ss"]]},showTableSetting:!0,tableSetting:{redo:!0,size:!0,setting:!0,fullScreen:!0},useSearchForm:!0,bordered:!0,showIndexColumn:!1,canResize:!1,actionColumn:{width:150,title:"操作",dataIndex:"action",slots:{customRender:"action"},fixed:void 0}}),2),h=m[0],j=m[1].reload;function b(){return(b=n(regeneratorRuntime.mark((function n(t){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c(t.id).then((function(){e.success("已成功删除角色")})).catch((function(){e.error("删除角色失败")})),n.next=3,j();case 3:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return{hasPermission:r,registerTable:h,registerDrawer:l,handleCreate:function(){d(!0,{isUpdate:!0})},handleEdit:function(e){d(!0,{record:e,isUpdate:!0})},handleDelete:function(e){return b.apply(this,arguments)},handleSuccess:function(){j(),e.success("操作成功")}}}}),T=w(" 新增角色");e("default",d(S,[["render",function(e,n,t,r,i,a){var o=h("a-button"),c=h("TableAction"),u=h("BasicTable"),l=h("RoleDrawer");return j(),b("div",null,[p(u,{onRegister:e.registerTable},x({action:v((function(n){var t=n.record;return[p(c,{actions:[{icon:"clarity:note-edit-line",onClick:e.handleEdit.bind(null,t),ifShow:function(){return e.hasPermission(["role_update"])}},{icon:"ant-design:delete-outlined",color:"error",popConfirm:{title:"是否确认删除",placement:"left",confirm:e.handleDelete.bind(null,t)},ifShow:function(){return e.hasPermission(["role_delete"])}}]},null,8,["actions"])]})),_:2},[e.hasPermission(["role_add"])?{name:"toolbar",fn:v((function(){return[p(o,{type:"primary",onClick:e.handleCreate},{default:v((function(){return[T]})),_:1},8,["onClick"])]}))}:void 0]),1032,["onRegister"]),p(l,{onRegister:e.registerDrawer,onSuccess:e.handleSuccess},null,8,["onRegister","onSuccess"])])}]]))}}}))}();
