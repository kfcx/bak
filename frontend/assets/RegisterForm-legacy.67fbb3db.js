!function(){function e(e,n,t,r,a,s,o){try{var l=e[s](o),c=l.value}catch(i){return void t(i)}l.done?n(c):Promise.resolve(c).then(r,a)}function n(n){return function(){var t=this,r=arguments;return new Promise((function(a,s){var o=n.apply(t,r);function l(n){e(o,a,s,l,c,"next",n)}function c(n){e(o,a,s,l,c,"throw",n)}l(void 0)}))}}System.register(["./LoginFormTitle-legacy.10f30a9c.js","./vendor-legacy.d8193a32.js","./useFormItem-legacy.04db47e9.js","./index-legacy.f25f109a2.js","./index-legacy.f25f109a.js","./index-legacy.ac6cddf2.js","./index-legacy.63558327.js","./index-legacy.5f587d09.js"],(function(e){"use strict";var t,r,a,s,o,l,c,i,u,d,f,p,m,g,y,v,x,h,w,k,b,_,P,C,j,z,S,R;return{setters:[function(e){t=e.u,r=e.a,a=e.L,s=e._,o=e.b},function(e){l=e.A,c=e.a_,i=e.ap,u=e.r,d=e.P,f=e.k,p=e.u,m=e.B,g=e.D,y=e.w,v=e.a5,x=e.a$,h=e.ad,w=e.J,k=e.aT,b=e.aa,_=e.ac},function(){},function(){},function(){},function(e){P=e.S},function(e){C=e.C},function(e){j=e.e,z=e.b,S=e.a,R=e.f}],execute:function(){e("default",l({setup:function(e){var l=c.Item,T=i.Password,U=j(),E=z().t,F=t(),I=F.handleBackLogin,L=F.getLoginState,B=R(),D=B.notification,M=B.createErrorModal,q=S("register").prefixCls,A=u(),G=u(!1),J=d({account:"",password:"",confirmPassword:"",email:"",sms:"",policy:!1}),N=r(J).getFormRules,$=o(A).validForm,H=f((function(){return p(L)===a.REGISTER}));function K(){return O.apply(this,arguments)}function O(){return(O=n(regeneratorRuntime.mark((function e(){var n,t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$();case 2:if(n=e.sent){e.next=5;break}return e.abrupt("return");case 5:return e.prev=5,G.value=!0,e.next=9,U.register({username:n.account,email:n.email,code:n.sms,password:n.password,password2:n.confirmPassword,policy:n.policy,mode:"none"});case 9:(t=e.sent)&&(D.success({message:E("sys.login.registerSuccessTitle"),description:"".concat(E("sys.login.registerSuccessDesc"),": ").concat(t),duration:3}),I()),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),M({title:E("sys.api.errorTip"),content:e.t0.message||E("sys.api.networkExceptionMsg"),getContainer:function(){return document.body.querySelector(".".concat(q))||document.body}});case 16:return e.prev=16,G.value=!1,e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[5,13,16,19]])})))).apply(this,arguments)}return function(e,n){return p(H)?(m(),g(b,{key:0},[y(s,{class:"enter-x"}),y(p(c),{class:"p-4 enter-x",model:p(J),rules:p(N),ref:function(e,n){n.formRef=e,A.value=e}},{default:v((function(){return[y(p(l),{name:"account",class:"enter-x"},{default:v((function(){return[y(p(i),{class:"fix-auto-fill",size:"large",value:p(J).account,"onUpdate:value":n[0]||(n[0]=function(e){return p(J).account=e}),placeholder:p(E)("sys.login.userName")},null,8,["value","placeholder"])]})),_:1}),y(p(l),{name:"email",class:"enter-x"},{default:v((function(){return[y(p(i),{size:"large",value:p(J).email,"onUpdate:value":n[1]||(n[1]=function(e){return p(J).email=e}),placeholder:p(E)("sys.login.email"),class:"fix-auto-fill"},null,8,["value","placeholder"])]})),_:1}),y(p(l),{name:"sms",class:"enter-x"},{default:v((function(){return[y(p(C),{size:"large",class:"fix-auto-fill",disabled:!1,emailCode:p(J).email,value:p(J).sms,"onUpdate:value":n[2]||(n[2]=function(e){return p(J).sms=e}),placeholder:p(E)("sys.login.mailCode")},null,8,["emailCode","value","placeholder"])]})),_:1}),y(p(l),{name:"password",class:"enter-x"},{default:v((function(){return[y(p(P),{size:"large",value:p(J).password,"onUpdate:value":n[3]||(n[3]=function(e){return p(J).password=e}),placeholder:p(E)("sys.login.password")},null,8,["value","placeholder"])]})),_:1}),y(p(l),{name:"confirmPassword",class:"enter-x"},{default:v((function(){return[y(p(T),{size:"large",visibilityToggle:"",value:p(J).confirmPassword,"onUpdate:value":n[4]||(n[4]=function(e){return p(J).confirmPassword=e}),placeholder:p(E)("sys.login.confirmPassword")},null,8,["value","placeholder"])]})),_:1}),y(p(l),{class:"enter-x",name:"policy"},{default:v((function(){return[y(p(x),{checked:p(J).policy,"onUpdate:checked":n[5]||(n[5]=function(e){return p(J).policy=e}),size:"small"},{default:v((function(){return[h(w(p(E)("sys.login.policy")),1)]})),_:1},8,["checked"])]})),_:1}),y(p(k),{type:"submit",class:"enter-x",size:"large",block:"",onClick:K,loading:G.value},{default:v((function(){return[h(w(p(E)("sys.login.registerButton")),1)]})),_:1},8,["loading"]),y(p(k),{size:"large",block:"",class:"mt-4 enter-x",onClick:p(I)},{default:v((function(){return[h(w(p(E)("sys.login.backSignIn")),1)]})),_:1},8,["onClick"])]})),_:1},8,["model","rules"])],64)):_("",!0)}}}))}}}))}();
