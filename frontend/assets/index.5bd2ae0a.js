import{B as e,u as i}from"./useTable.5d27771c.js";import{T as o}from"./FormAction.9732afc1.js";import{n as s,A as t,P as a,a0 as r,B as n,D as d,w as m,a5 as c}from"./vendor.84d2d683.js";import{aD as l,_ as p,ai as f}from"./index.2956b203.js";import{b as u}from"./index.a66a0969.js";import{L as j,c as g,s as b}from"./LogsModal.73754b08.js";/* empty css              */import"./useForm.07071468.js";import"./useFormItem.75e32247.js";/* empty css               */import"./index.7a603658.js";/* empty css               *//* empty css               */import"./useWindowSizeFn.a02e5cb7.js";import"./useContentViewHeight.fee9e617.js";/* empty css                *//* empty css                *//* empty css               *//* empty css               */import"./useSortable.817b3359.js";/* empty css                *//* empty css                *//* empty css                */import"./download.eecfd47d.js";import"./index.8bcb94a9.js";import"./index.1350911d.js";var h;(h||(h={})).LogList="/system/operation/logs";const x=e=>l.get({url:h.LogList,params:e,paramsSerializer:e=>s.stringify(e,{indices:!1})});var T=p(t({name:"AccountManagement",components:{BasicTable:e,LogsModal:j,TableAction:o},setup(){const{hasPermission:e}=f(),[o,{openModal:s}]=u(),t=a({}),[r]=i({title:"日志列表",api:x,beforeFetch:e=>(e.order=["-id"],e),afterFetch:e=>(e.forEach((e=>(e.detail=JSON.stringify(e.detail),e))),e),rowKey:"id",columns:g,showIndexColumn:!1,formConfig:{labelWidth:120,schemas:b,autoSubmitOnEnter:!0,autoAdvancedLine:1,fieldMapToTime:[["createTime",["createTimeStart","createTimeEnd"],"YYYY-MM-DD HH:mm:ss"]]},useSearchForm:!0,showTableSetting:!0,tableSetting:{fullScreen:!0},bordered:!0,canResize:!1,handleSearchInfoFn:e=>e,actionColumn:{width:60,title:"操作",dataIndex:"action",slots:{customRender:"action"}}});return{hasPermission:e,registerTable:r,registerModal:o,handleView:function(e){s(!0,{record:e,isUpdate:!0})},searchInfo:t}}}),[["render",function(e,i,o,s,t,a){const l=r("TableAction"),p=r("BasicTable"),f=r("LogsModal");return n(),d("div",null,[m(p,{onRegister:e.registerTable,searchInfo:e.searchInfo},{action:c((({record:i})=>[m(l,{actions:[{icon:"clarity:info-standard-line",tooltip:"查看日志详情",onClick:e.handleView.bind(null,i),ifShow:()=>e.hasPermission(["Logs"])}]},null,8,["actions"])])),_:1},8,["onRegister","searchInfo"]),m(f,{onRegister:e.registerModal},null,8,["onRegister"])])}]]);export{T as default};
